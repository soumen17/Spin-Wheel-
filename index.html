<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Spin Wheel</title>
  <style>
    body {
      background: #f0f0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    canvas {
      background: white;
      border-radius: 50%;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
    }
    #spinBtn {
      position: absolute;
      bottom: 50px;
      padding: 10px 20px;
      font-size: 20px;
      background: #ff4b2b;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<canvas id="wheel" width="500" height="500"></canvas>
<button id="spinBtn">ðŸŽ¯ Spin</button>

<script>
  const canvas = document.getElementById("wheel");
  const ctx = canvas.getContext("2d");
  const spinBtn = document.getElementById("spinBtn");

  const segments = ["10 â‚¹", "20 â‚¹", "30 â‚¹", "40 â‚¹", "50 â‚¹", "60 â‚¹"];
  const colors = ["#FF6384", "#36A2EB", "#FFCE56", "#4BC0C0", "#9966FF", "#FF9F40"];

  let startAngle = 0;
  const arc = Math.PI / (segments.length / 2);
  let spinAngle = 0;
  let spinning = false;

  function drawWheel() {
    for (let i = 0; i < segments.length; i++) {
      const angle = startAngle + i * arc;
      ctx.beginPath();
      ctx.fillStyle = colors[i];
      ctx.moveTo(250, 250);
      ctx.arc(250, 250, 250, angle, angle + arc);
      ctx.lineTo(250, 250);
      ctx.fill();
      ctx.save();
      ctx.translate(250, 250);
      ctx.rotate(angle + arc / 2);
      ctx.textAlign = "right";
      ctx.fillStyle = "white";
      ctx.font = "bold 20px Arial";
      ctx.fillText(segments[i], 230, 10);
      ctx.restore();
    }
  }

  function rotateWheel() {
    startAngle += spinAngle * Math.PI / 180;
    spinAngle *= 0.97; // slow down
    if (spinAngle < 0.1) {
      spinning = false;
    }
    draw();
    if (spinning) {
      requestAnimationFrame(rotateWheel);
    }
  }

  function draw() {
    ctx.clearRect(0, 0, 500, 500);
    drawWheel();
    // pointer
    ctx.beginPath();
    ctx.moveTo(250 - 20, 20);
    ctx.lineTo(250 + 20, 20);
    ctx.lineTo(250, 60);
    ctx.closePath();
    ctx.fillStyle = "red";
    ctx.fill();
  }

  spinBtn.addEventListener("click", () => {
    if (!spinning) {
      spinAngle = Math.random() * 30 + 20;
      spinning = true;
      rotateWheel();
    }
  });

  draw();
</script>

</body>
</html>
